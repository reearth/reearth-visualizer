# ========================================
# Docker Environment Configuration (Example)
# ========================================
# Copy this file to .env.docker and fill in your actual values
# This file is used when running the application in Docker
# It combines settings from .env.example and local .env

# ========================================
# Server Configuration
# ========================================
PORT=8080
REEARTH_SERVERHOST=0.0.0.0  # Bind to all interfaces in Docker
REEARTH_HOST=http://localhost:8080
REEARTH_HOST_WEB=http://localhost:3000
REEARTH_DEV=false

# ========================================
# Database Configuration
# ========================================
# Docker service name for MongoDB
# IMPORTANT: Must match reearth-accounts database name
REEARTH_DB=mongodb://reearth-mongo:27017/?directConnection=true
REEARTH_DB_ACCOUNT=reearth-account
REEARTH_DB_VIS=reearth

# ========================================
# Storage Configuration (GCS Emulator)
# ========================================
STORAGE_EMULATOR_HOST=http://reearth-gcs:4443
REEARTH_GCS_BUCKETNAME=test-bucket
REEARTH_GCS_ISFAKE=true
REEARTH_GCS_PUBLICATIONCACHECONTROL=no-store
GOOGLE_CLOUD_PROJECT=reearth-local
REEARTH_ASSETBASEURL=http://localhost:8080/assets

# ========================================
# Auth0 Configuration
# ========================================
# Required for /reearth_config.json and authentication
# Get these values from your Auth0 application settings
REEARTH_AUTH0_DOMAIN=https://your-tenant.auth0.com/
REEARTH_AUTH0_AUDIENCE=https://api.your-domain.com
REEARTH_AUTH0_CLIENTID=your-auth0-client-id
REEARTH_AUTH0_WEBCLIENTID=your-auth0-web-client-id
REEARTH_AUTH0_CLIENTSECRET=your-auth0-client-secret

# Alternative auth configuration (if not using Auth0)
#REEARTH_AUTH_ISS=https://hoge.com
#REEARTH_AUTH_AUD=https://api.reearth.example.com
# Multiple auth servers:
#REEARTH_AUTH=[{"ISS":"https://hoge.com","AUD":["https://api.reearth.example.com"]}]

# AWS Cognito (optional)
#REEARTH_COGNITO_REGION=
#REEARTH_COGNITO_USERPOOLID=
#REEARTH_COGNITO_CLIENTID=

# ========================================
# Accounts API Configuration
# ========================================
REEARTH_ACCOUNTSAPI_HOST=http://reearth-accounts-dev:8090
REEARTH_ACCOUNTSAPI_TIMEOUT=30

# ========================================
# Internal API Configuration
# ========================================
REEARTH_VISUALIZER_INTERNALAPI_ACTIVE=false
REEARTH_VISUALIZER_INTERNALAPI_PORT=50051
REEARTH_VISUALIZER_INTERNALAPI_TOKEN=

# ========================================
# Policy Checker Configuration
# ========================================
REEARTH_VISUALIZER_POLICY_CHECKER_TYPE=permissive
REEARTH_VISUALIZER_POLICY_CHECKER_ENDPOINT=https://cloud.visualizer.dev.reearth.io/api/internal/policy-check
REEARTH_VISUALIZER_POLICY_CHECKER_TIMEOUT=30
# Token for policy checker (if Type is "http")
# Get this from your cloud provider
REEARTH_CLOUD_INTERNAL_API_KEY=your-internal-api-key

# ========================================
# Domain Checker Configuration
# ========================================
#REEARTH_VISUALIZER_DOMAINCHECHECKER_TYPE=http
#REEARTH_VISUALIZER_DOMAINCHECHECKER_ENDURL=http://localhost/api/internal/domain
#REEARTH_VISUALIZER_DOMAINCHECHECKER_TOKEN=token

# ========================================
# Dashboard API
# ========================================
REEARTH_DASHBOARD_API=https://api.dev.reearth.io:8080

# ========================================
# Web Configuration
# ========================================
# Web title and favicon
#REEARTH_WEB_TITLE=Re:Earth Visualizer
#REEARTH_WEB_FAVICONURL=https://example.com/favicon.ico

# Web disabled flags
#REEARTH_WEB_DISABLED=false
#REEARTH_WEB_APP_DISABLED=false

# Additional web config (JSON format)
# Production-like configuration for local development
# Replace YOUR_CESIUM_ION_ACCESS_TOKEN with your actual Cesium Ion token from https://ion.cesium.com/tokens
REEARTH_WEB_CONFIG={"api":"http://localhost:8080/api","brand":null,"cesiumIonAccessToken":"YOUR_CESIUM_ION_ACCESS_TOKEN","cloudApi":"http://localhost:8090/api","currentTos":"20231213","developerMode":true,"documentationUrl":"https://help.reearth.io","earlyAccessAdmins":[],"extensionUrls":[],"marketplaceUrl":"https://marketplace.reearth.io","multiTenant":null,"passwordPolicy":{"highSecurity":"^(?=.*[a-z])(?=.*[A-Z])((?=(.*\\d)))|(?=.*[a-z])(?=.*[A-Z])(?=.*[-!@#$%^&*)(_ ])|(?=.*[a-z])(?=.*\\d)(?=.*[-!@#$%^&*)(_ ])|(?=.*[A-Z])(?=.*\\d)(?=.*[-!@#$%^&*)(_ ])","lowSecurity":"^((?=\\d)|(?=[a-z])|(?=[A-Z])|(?=.*[-!@#$%^&*)(_ ]))","medSecurity":"^((?=.*[a-z])(?=.*[A-Z])|(?=.*[A-Z])(?=.*\\d)|(?=.*[a-z])(?=.*\\d))|(?=.*[A-Z])(?=.*[-!@#$%^&*)(_ ])|(?=.*[a-z])(?=.*[-!@#$%^&*)(_ ])|(?=.*\\d)(?=.*[-!@#$%^&*)(_ ])","tooLong":"^(?=.{128,}$)","tooShort":"^(?=.{1,7}$)"},"plugins":"http://localhost:8080/plugins","policy":{"limitNotifications":{"asset":{"en":"Your workspace has reached its plan's limit for assets. Please check reearth.io/service/cloud for details.","ja":"ご利用中のプランで利用可能なアセットの最大容量に達しました。こちら（https://reearth.io/ja/service/cloud）からプランの詳細をご確認ください。"},"createdProject":{"en":"Your workspace has reached its plan's limit for projects. Please check reearth.io/service/cloud for details.","ja":"ご利用中のプランで作成可能なプロジェクト数に達しました。こちら（https://reearth.io/ja/service/cloud）からプランの詳細をご確認ください。"},"dataset":{"en":"Your workspace has reached its plan's limit for dataset. Please check reearth.io/service/cloud for details.","ja":"ご利用中のプランで作成可能なデータセット数に達しました。こちら（https://reearth.io/ja/service/cloud）からプランの詳細をご確認ください。"},"layer":{"en":"Your workspace has reached its plan's limit for layers. Please check reearth.io/service/cloud for details.","ja":"ご利用中のプランで作成可能なレイヤー数に達しました。こちら(https://reearth.io/ja/service/cloud）からプランの詳細をご確認ください。"},"member":{"en":"Your workspace has reached its plan's limit for new members. Please check reearth.io/service/cloud for details.","ja":"ご利用中のプランで招待可能なメンバー数に達しました。こちら（https://reearth.io/ja/service/cloud）からプランの詳細をご確認ください。"},"project":null,"publishProject":{"en":"Your workspace has reached its plan's limit for publishing projects. Please check reearth.io/service/cloud for details.","ja":"ご利用中のプランで公開可能なプロジェクト数に達しました。こちら(https://reearth.io/ja/service/cloud/）からプランの詳細をご確認ください。"},"published":null},"modalDescription":{"en":"This is your currently subscribed to plan. If this plan stops meeting your needs, Re:Earth has other plans available.","ja":"現在ご利用中のプランはこちらです。Re:Earthはあなたのニーズに合った料金プランを用意しています。"},"modalTitle":{"en":"Re:Earth Cloud","ja":"Re:Earth Cloud"},"url":{"en":"https://reearth.io/service/cloud","ja":"https://reearth.io/ja/service/cloud"}},"published":"http://{}.localhost:8080","unsafePluginUrls":[]}

# Alternative: Set individual web config values (use if not using REEARTH_WEB_CONFIG above)
#REEARTH_WEB_CESIUMIONACCESSTOKEN=your-cesium-ion-token-here
#REEARTH_WEB_GOOGLEMAPSAPIKEY=your-google-maps-key-here
#REEARTH_WEB_API=http://localhost:8080/api
#REEARTH_WEB_DEVELOPERMODE=true

# ========================================
# CORS Configuration
# ========================================
# Comma-separated list of allowed origins
#REEARTH_ORIGINS=http://localhost:3000,https://visualizer.test.reearth.dev

# ========================================
# Migration Configuration
# ========================================
RUN_MIGRATION=false

# ========================================
# Signup Configuration
# ========================================
#REEARTH_SIGNUPSECRET=reearthoss
#REEARTH_SIGNUPDISABLED=false

# ========================================
# Mailer Configuration
# ========================================
# Available mailers: [log, smtp, sendgrid, ses]
REEARTH_MAILER=log

# SendGrid config
#REEARTH_MAILER=sendgrid
#REEARTH_SENDGRID_EMAIL=noreply@test.com
#REEARTH_SENDGRID_NAME=Re:Earth
#REEARTH_SENDGRID_API=your-sendgrid-api-key

# AWS SES config
#REEARTH_SES_EMAIL=noreply@test.com
#REEARTH_SES_NAME=Re:Earth

# SMTP config
#REEARTH_MAILER=smtp
#REEARTH_SMTP_EMAIL=noreply@test.com
#REEARTH_SMTP_HOST=smtp.example.com
#REEARTH_SMTP_PORT=587
#REEARTH_SMTP_SMTPUSERNAME=username
#REEARTH_SMTP_PASSWORD=password

# ========================================
# Alternative Storage: AWS S3
# ========================================
#REEARTH_S3_BUCKETNAME=bucket_name
#REEARTH_S3_PUBLICATIONCACHECONTROL=
#AWS_ACCESS_KEY_ID=
#AWS_SECRET_ACCESS_KEY=

# ========================================
# Extensions
# ========================================
# Extension plugin URLs (comma-separated)
# Each path should contain `reearth.yml` file
#REEARTH_EXT_PLUGIN=http://fileserve.local:8090/plugin-01,http://fileserve.local:8090/plugin-02

# ========================================
# Health Check Configuration
# ========================================
#REEARTH_HEALTHCHECK_USERNAME=
#REEARTH_HEALTHCHECK_PASSWORD=

# ========================================
# Monitoring & Tracing
# ========================================
# GCP Profiler
#REEARTH_PROFILER=gcp
#REEARTH_GCP_PROJECT=your-gcp-project

# Tracer configuration
#REEARTH_TRACER=gcp
#REEARTH_TRACER_SAMPLE=1.0

# OpenTelemetry configuration
#REEARTH_OTEL_ENABLED=false
#REEARTH_OTEL_ENDPOINT=localhost:4317
#REEARTH_OTEL_EXPORTER_TYPE=otlp
#REEARTH_OTEL_BATCH_TIMEOUT=1s
#REEARTH_OTEL_MAX_EXPORT_BATCH_SIZE=512
#REEARTH_OTEL_MAX_QUEUE_SIZE=2048
#REEARTH_OTEL_SAMPLING_RATIO=1.0

# ========================================
# HTTPS Configuration
# ========================================
#REEARTH_HTTPSREDIRECT=false

# ========================================
# Marketplace Configuration
# ========================================
#REEARTH_MARKETPLACE_ENDPOINT=https://api.marketplace.test.reearth.dev
#REEARTH_MARKETPLACE_SECRET=your-marketplace-secret

# ========================================
# Published Configuration
# ========================================
#REEARTH_PUBLISHED_HOST=https://{}.test.reearth.dev
#REEARTH_PUBLISHED_INDEXURL=https://example.com/published.html
