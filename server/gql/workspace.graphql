type Team implements Node {
  id: ID!
  name: String!
  members: [TeamMember!]!
  personal: Boolean!
  policyId: ID
  policy: Policy
  assets(
    projectId: ID
    first: Int
    last: Int
    after: Cursor
    before: Cursor
  ): AssetConnection!
  projects(
    includeArchived: Boolean
    first: Int
    last: Int
    after: Cursor
    before: Cursor
  ): ProjectConnection!
}

type TeamMember {
  userId: ID!
  role: Role!
  user: User
}

type Policy {
  id: ID!
  name: String!
  projectCount: Int
  memberCount: Int
  publishedProjectCount: Int
  layerCount: Int
  assetStorageSize: FileSize
  nlsLayersCount: Int
  pageCount: Int
  blocksCount: Int
}

enum Role {
  # a role who can read project
  READER
  # a role who can read and write project
  WRITER
  # a role who can maintain a project
  MAINTAINER
  # a eole who can have full controll of project
  OWNER
}

# InputType

input CreateTeamInput {
  name: String!
}

input UpdateTeamInput {
  workspaceId: ID!
  name: String!
}

input AddMemberToTeamInput {
  workspaceId: ID!
  userId: ID!
  role: Role!
}

input RemoveMemberFromTeamInput {
  workspaceId: ID!
  userId: ID!
}

input UpdateMemberOfTeamInput {
  workspaceId: ID!
  userId: ID!
  role: Role!
}

input DeleteTeamInput {
  workspaceId: ID!
}

# Payload

type CreateTeamPayload {
  workspace: Team!
}

type UpdateTeamPayload {
  workspace: Team!
}

type AddMemberToTeamPayload {
  workspace: Team!
}

type RemoveMemberFromTeamPayload {
  workspace: Team!
}

type UpdateMemberOfTeamPayload {
  workspace: Team!
}

type DeleteTeamPayload {
  workspaceId: ID!
}

#extend type Query{ }

extend type Mutation {
  createTeam(input: CreateTeamInput!): CreateTeamPayload
  deleteTeam(input: DeleteTeamInput!): DeleteTeamPayload
  updateTeam(input: UpdateTeamInput!): UpdateTeamPayload
  addMemberToTeam(input: AddMemberToTeamInput!): AddMemberToTeamPayload
  removeMemberFromTeam(
    input: RemoveMemberFromTeamInput!
  ): RemoveMemberFromTeamPayload
  updateMemberOfTeam(input: UpdateMemberOfTeamInput!): UpdateMemberOfTeamPayload
}
