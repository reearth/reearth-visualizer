type Scene implements Node {
  id: ID!
  projectId: ID!
  teamId: ID!
  propertyId: ID!
  createdAt: DateTime!
  updatedAt: DateTime!
  widgets: [SceneWidget!]!
  plugins: [ScenePlugin!]!
  widgetAlignSystem: WidgetAlignSystem
  project: Project
  team: Team
  property: Property
  newLayers: [NLSLayer!]!
  stories: [Story!]!
  styles: [Style!]!

  # publishment
  alias: String!
  publishmentStatus: PublishmentStatus!
  publishedAt: DateTime
  publicTitle: String!
  publicDescription: String!
  publicImage: String!
  publicNoIndex: Boolean!
  isBasicAuthActive: Boolean!
  basicAuthUsername: String!
  basicAuthPassword: String!
  enableGa: Boolean!
  trackingId: String!
}

input PublishSceneInput {
  id: ID!
  alias: String
  status: PublishmentStatus!
}

type SceneWidget {
  id: ID!
  pluginId: ID!
  extensionId: ID!
  propertyId: ID!
  enabled: Boolean!
  extended: Boolean!
  plugin: Plugin
  extension: PluginExtension
  property: Property
}

type ScenePlugin {
  pluginId: ID!
  propertyId: ID
  plugin: Plugin
  property: Property
}

# InputType

input CreateSceneInput {
  projectId: ID!
}

# Payload

type ScenePayload {
  scene: Scene!
}

type CreateScenePayload {
  scene: Scene!
}

extend type Query {
  scene(projectId: ID!): Scene
}

extend type Mutation {
  createScene(input: CreateSceneInput!): CreateScenePayload
  publishScene(input: PublishSceneInput!): ScenePayload
}
